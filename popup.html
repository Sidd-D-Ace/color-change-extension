<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KeySight ‚Äî Settings</title>
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <button id="a11y-start" class="sr-only" style="position:absolute; opacity:0;">
    KeySight Settings. Press Tab to begin.
  </button>

  <main id="main">
    <header style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:15px;">
      <div>
        <h1 id="title">KeySight</h1>
        <p id="desc" style="margin:0;" data-i18n="desc">Manage your triggers</p>
      </div>
      
      <div style="display:flex; flex-direction:column; align-items:flex-end; gap:5px;">
        <select id="langSelect" class="lang-dropdown" aria-label="Select Language">
          <option value="en">English</option>
          <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
          <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
        </select>

        <select id="actionSelect" class="action-dropdown" aria-label="Import Export Actions">
          <option value="" disabled selected data-i18n="opt_actions">Actions...</option>
          <option value="import" data-i18n="opt_import">üìÇ Import Config</option>
          <option value="export_site" data-i18n="opt_export_site">‚¨áÔ∏è Export This Site</option>
          <option value="export_all" data-i18n="opt_export_all">üì¶ Export All Configs</option>
        </select>

        <button id="readAllBtn" type="button" aria-label="Read all shortcuts" data-i18n="btn_read">
          üîä Read All
        </button>
      </div>
    </header>

    <button id="pickerBtn" type="button" class="picker-hero-btn">
      <span>üéØ</span> <span data-i18n="btn_pick">Pick Element on Page</span>
    </button>

    <div class="static-help-card">
      <div class="help-row">
        <span class="help-label" data-i18n="lbl_quick">Quick Capture</span>
        <span class="help-key" id="key-quick">...</span>
      </div>
      <div class="help-row">
        <span class="help-label" data-i18n="lbl_mouse">Mouse Capture</span>
        <span class="help-key" id="key-mouse">...</span>
      </div>
      <div class="help-row">
        <span class="help-label" data-i18n="lbl_open">Open Settings</span>
        <span class="help-key" id="key-open">...</span>
      </div>
    </div>

    <div id="announce" role="status" aria-live="polite" class="sr-only"></div>

    <form id="mappingForm">
      <table id="mappingTable" aria-describedby="desc">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col" data-i18n="col_trigger">Trigger</th>
            <th scope="col" data-i18n="col_shortcut">Shortcut</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody id="rows"></tbody>
      </table>
      
      <div style="margin-top: 10px;">
        <button id="addBtn" type="button" data-i18n="btn_add">+ Add New</button>
      </div>

      <div class="controls">
        <button id="resetBtn" type="button" data-i18n="btn_reset">Clear All</button>
        <button id="helpShortcuts" type="button" data-i18n="btn_help">Help</button>
      </div>

      <div id="error" role="alert" aria-live="assertive"></div>
      <div class="saved-notice" aria-live="polite"></div> 
    </form>
    
    <input type="file" id="fileInput" accept=".json" style="display:none;" />
  </main>

  <script src="popup.js"></script>
</body>
</html>